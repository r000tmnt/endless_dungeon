<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/game.css">
    <script src="js/components/titleScreen.js" type="module"></script>
    <script src="js/components/characterCaption.js" type="module"></script>
    <script src="js/components/optionMenu.js" type="module"></script>
    <title>Document</title>
</head>
<body class="flex relative">
    <div id="wrapper" class="bg-black relative">
        <!-- Language selection -->
        <div id="language" class="flex flex-col absolute invisible place-center">
            <button data-lng="en">English</button>
            <button data-lng="zh">繁體中文</button>
        </div>

        <!-- Title Screen -->
        <title-screen id="titleScreen" class="menu absolute invisible bg-black text-center border-box text-white"></title-screen>

        <!-- Character caption -->
        <character-caption id="characterCaption" class="absolute invisible bg-white"></character-caption>

        <!-- Turn Counter -->
        <div id="turn" class="absolute invisible bg-white"></div>

        <!-- Game window -->
        <canvas id="game" class="invisible"></canvas>

        <!-- Option Menu -->
        <option-menu id="option_menu" class="absolute action_menu_close">
        </option-menu>

        <!-- Party -->
        <div id="party" class="menu absolute invisible border-box text-white bg-black">
            <div>Party</div>

            <button class="back absolute" data-action="party" type="button">BACK</button>

            <ul id="member_list" class="disable-scrollbars bg-black"></ul>
        </div>

        <!-- Config -->
        <div id="config" class="menu absolute invisible border-box text-white bg-black">
            <div>Config</div>

            <button class="back absolute" data-action="config" type="button">BACK</button>

            <table id="config_option" class="disable-scrollbars">
                <tbody>
                    <!-- BGM -->
                    <tr>
                        <td>BGM</td>
                        <td>
                            <input id="bgm" min="0" max="100" type="range" class="w-full" data-config="bgm" name="bgm" > 
                        </td>
                    </tr>
                    <!-- SE -->
                    <tr>
                        <td>SE</td>
                        <td>
                            <input id="se" min="0" max="100" type="range" class="w-full" data-config="se" name="se" > 
                        </td>    
                    </tr>
                    <!-- Grid -->
                    <tr>
                        <td>Grid</td>
                        <td class="flex evenly">
                            <label for="grid">
                                Display
                            </label>
                            <input type="radio" data-config="grid" name='grid' value="true"> 

                            <label for="grid">
                                Hide
                            </label>
                            <input type="radio" data-config="grid" name='grid' value="false">
                        </td>
                    </tr>

                    <!-- Character image filter -->
                    <tr>
                        <td>Filter</td>

                        <td class="flex evenly">
                            <label for="default">
                                Default
                            </label>
                            <input type="radio" data-config="filter" name="filter" value="default"> 

                            <label for="retro">
                                Retro
                            </label>
                            <input type="radio" data-config="filter" name="filter" value='retro'>
                        </td>
                    </tr> 
                    
                    <!-- Language selector -->
                    <tr>
                        <td>
                            Language
                        </td>
                        <td class="flex evenly">
                            <label for="default">
                                English
                            </label>
                            <input type="radio" data-config="language" name="language" value="en"> 

                            <label for="retro">
                                繁體中文
                            </label>
                            <input type="radio" data-config="language" name="language" value='zh'>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <!-- Objective -->
        <div id="objective" class="menu absolute invisible border-box text-white bg-black">
            <div>Objective</div>

            <button class="back absolute" data-action="objective" type="button">BACK</button>

            <ul>
                <li class="bg-black">
                   <div class="label bg-black relative">Victory</div> 
                   <div class="desc" data-objective="victory"></div>
                </li>
                <li class="bg-black">
                    <div class="label bg-black relative">Fail</div>
                    <div class="desc" data-objective="fail"></div>
                </li>
                <li class="bg-black">
                    <div class="label bg-black relative">Optional</div> 
                    <div class="desc" data-objective="optional"></div>
                </li>
            </ul>
        </div>

        <!-- Action Menu -->
        <div id="action_menu" class="absolute action_menu_close">
            <ul id="action_list">
                <li class="action" data-action="move">Move</li>
                <li class="action" data-action="attack">Attack</li>
                <li class="action" data-action="skill">Skill</li>
                <li class="action" data-action="item">Item</li>
                <li class="action hide" data-action="pick">Pick</li>
                <li class="action" data-action="status">Status</li>
                <li class="action" data-action="stay">Stay</li>
            </ul>
        </div>

        <!-- Skill name place holder -->
        <div id="skillName" class="absolute text-center w-full">
            <p class="invisible text-white bg-black"></p>
        </div>

        <!-- Character status -->
        <div id="status" class="menu absolute invisible border-box text-white bg-black">
            <div class="status_header flex">
                <img id="avatar" src="" alt="avatar">
                <div id="info">
                    <p>NAME</p>
                    <p>JOB</p>
                </div>
            </div>

            <button class="back absolute" data-action="status" type="button">BACK</button>

            <div class="flex" style="justify-content: space-between">
                <p>LV</p>
                <p><!-- Points --></p>
            </div>
            
            <!-- Seperator -->
            <table id="attributes" class="w-full">
                <tbody>
                    <tr>
                        <td>HP :</td>
                        <td class="status-node" data-attribute="hp"></td>
                        <td class="invisible flex attribute-toggle text-white" data-attribute="maxHp">
                            <span>-</span>
                            <span>+</span>
                        </td>
                    </tr>
                    <tr>
                        <td>MP :</td>
                        <td class="status-node" data-attribute="mp"></td>
                        <td class="invisible flex attribute-toggle text-white" data-attribute="maxMp">
                            <span>-</span>
                            <span>+</span>
                        </td>
                    </tr>
                    <tr>
                        <td>STR :</td>
                        <td class="status-node" data-attribute="str"></td>
                        <td class="invisible flex attribute-toggle text-white" data-attribute="str">
                            <span>-</span>
                            <span>+</span>
                        </td>
                    </tr>   
                    <tr>
                        <td>DEF :</td>
                        <td class="status-node" data-attribute="def"></td>
                        <td class="invisible flex attribute-toggle text-white" data-attribute="def">
                            <span>-</span>
                            <span>+</span>
                        </td>                        
                    </tr>
                    <tr>
                        <td>INT :</td>
                        <td class="status-node" data-attribute="int"></td>                        
                        <td class="invisible flex attribute-toggle text-white" data-attribute="int">
                            <span>-</span>
                            <span>+</span>
                        </td> 
                    </tr>           
                    <tr>
                        <td>SPD :</td>
                        <td class="status-node" data-attribute="spd"></td>      
                        <td class="invisible flex attribute-toggle text-white" data-attribute="spd">
                            <span>-</span>
                            <span>+</span>
                        </td>                   
                    </tr>
                    <tr>
                        <td>LUCK :</td>
                        <td class="status-node" data-attribute="lck"></td></td>
                        <td class="invisible flex attribute-toggle text-white" data-attribute="lck">
                            <span>-</span>
                            <span>+</span>
                        </td>  
                    </tr>     
                    <tr>
                        <!-- Spirit as magic defense-->
                        <td>SPI :</td>
                        <td class="status-node" data-attribute="spi"></td>
                        <td class="invisible flex attribute-toggle text-white" data-attribute="spi">
                            <span>-</span>
                            <span>+</span>
                        </td> 
                    </tr>       
                    <tr>
                        <td>AP :</td>
                        <td class="status-node" data-attribute="ap"></td>                        
                    </tr>        
                    <tr>
                        <!-- VIEW as sight -->
                        <td>VIEW :</td>
                        <td class="status-node"  data-attribute="sight"></td></td>                        
                    </tr>
                    <tr>
                        <td>MOVE :</td>
                        <td class="status-node"  data-attribute="moveSpeed"></td>
                    </tr>
                    <tr>
                        <td>STAT :</td>
                        <td class="status-node"  data-attribute="status"></td>                        
                    </tr>                    
                    <tr>
                        <td>EXP :</td>
                        <td class="status-node" data-attribute="exp"></td></td>
                    </tr>                    
                </tbody>
            </table>
        </div>

        <!-- Skill window -->
        <div id="skill" class="menu absolute invisible border-box text-white bg-black">
            <div>Skill</div>

            <button class="back absolute" data-action="skill" type="button">BACK</button>

            <ul class="learned-skills disable-scrollbars">
                <!-- skills -->
            </ul>
        </div>

        <!-- Inventory -->
        <div id="item" class="menu absolute invisible border-box text-white bg-black">
            <div>INVENTORY</div>
            <button class="back absolute" data-action="item" type="button">BACK</button>

            <!-- filter -->
            <div class="flex filter-group text-center">
                <button class="filter" type="button" data-filter="3,4">Equipment</button>
                <button class="filter" type="button" data-filter="0">Potion</button>
                <button class="filter" type="button" data-filter="2">Material</button>
                <button class="filter" type="button" data-filter="6">Key</button>                    
            </div>

            <div id="inventory" class="disable-scrollbars flex flex-wrap">
                <!-- items -->
            </div>

            <div id="itemAction" class="sub-menu absolute invisible">
                <div id="item-desc" class="flex">
                    <img src="" alt="icon">
                    <div>
                        <!-- item desc -->
                    </div>
                </div>
                <ul id="action_list" class="flex">
                    <li class="action sub-action" data-action="use">Use</li>
                    <li class="action sub-action" data-action="equip">Equip</li>
                    <li class="action sub-action" data-action="drop">Drop</li>
                    <li class="action sub-action" data-action="give">Give</li>
                    <li class="action sub-action" data-action="close">Close</li>
                </ul>
            </div>

            <!-- Range slider -->
            <div id="slider" class="absolute invisible place-center bg-black">
                <input id="range" type="range" min="1" value="1">
                <p class="text-center">1</p>
                <div class="flex">
                    <button type="button">Cancel</button>
                    <button type="button">Confirm</button>
                </div>
            </div>
        </div>

        <!-- Pick up item window -->
        <div id="pickUp" class="menu absolute invisible border-box text-white bg-black">
            <div>Pick up</div>
            <button class="back absolute" data-action="pick" type="button">BACK</button>

            <ul id="dropped-items" class="disable-scrollbars flex flex-wrap">
                <!-- items -->
            </ul>

            <div class="btn-group absolute text-center">
                <button type="button">Take All</button>
                <button type="button" disabled="true">Confirm</button>
            </div>
        </div>

        <!-- Loading scrren -->
        <div id="Loading" class="invisible bg-black">
            <p>Loading ...</p>
        </div>

        <!-- Phase Counter -->
        <div id="Phase_Transition" class="absolute invisible text-center">
            <h3 id="phase" class="absolute place-center text-white">
                <!-- Phase -->
            </h3>
        </div>

        <!-- Level clear -->
        <div id="levelClear" class="menu absolute invisible border-box text-white bg-black">
            <p class="title text-center"><!-- WIN or LOSE --></p>

            <!-- If optional objective exist -->
            <ul id="optional" class="invisible"></ul>

            <!-- Actions you can take at the moment -->
            <ul id="resultAction" class="action invisible">
                <!-- You can do item management later  -->
                <li class="bg-black text-white" data-action="stash">Push items to the stash</li>
                <!-- Or you want to do it right now -->
                <li class="bg-black text-white" data-action="pickAfterBattle">Pick up items</li>
                <!-- You can choose to ignore all of it also -->
                <li class="bg-black text-white" data-action="finish">Finish</li>
            </ul>

            <div id="partySubMenu" class="absolute invisible flex evenly">
                <!-- Party member avatar -->
            </div>

            <div id="warn" class="absolute invisible place-center bg-black">
                <p>Items left on the field will be unavailable once you proceed to the next phase.</p>

                <div class="flex">
                    <button>Cancel</button>
                    <button>Got it</button>
                </div>
            </div>

            <div class="text-center invisible">
                TAP TO CONTINUE
            </div>
        </div>

        <!-- Conversation scene -->
        <div id="conversation" class="menu absolute invisible border-box text-white bg-black">
            <ul id="dialogue_control" class="absolute">
                <li class="action" data-action="skip">SKIP</li>
                <li class="action" data-action="hide">HIDE</li>
                <li class="action" data-action="auto">AUTO</li>
                <li class="action" data-action="log">LOG</li>
            </ul>
            <ul id="dialogue-options" class="absolute invisible place-center"></ul>

            <div id="character" class="flex w-full">
                <!-- Where character portrait stands -->
                <img src="" alt="portrait" class="invisible" />
                <img src="" alt="portrait" class="invisible" />
                <img src="" alt="portrait" class="invisible" />
            </div>

            <div id="dialogue" class="absolute invisible disable-scrollbars overflow-scroll border-box">
            </div>
        </div>

        <!-- Dialogue Log -->
        <div id="dialogue-log" class="menu absolute invisible disable-scrollbars overflow-scroll border-box text-white">
            <ul id="log" class="disable-scrollbars overflow-scroll"></ul>
        </div>
    </div>

    <script type="module" src="/js/game.js"></script>
    <script type="module" src="/js/utils/long-press-event.min.js"></script>
</body>
</html>